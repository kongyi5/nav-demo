{"version":3,"sources":["main.js"],"names":["hashA","init","keys","hash","getFromLocalStorage","name","JSON","parse","localStorage","getItem","createTag","tagName","document","createElement","createSpan","textContent","span","className","createButton","id","button","onclick","xxxxx","button2","target","img2","previousSibling","key","x","prompt","src","onerror","xxx","setItem","stringify","createImage","domain","img","q","w","e","r","t","y","u","i","o","p","a","s","z","m","hashInLocalStorage","length","generateKeyBoard","index","div1","main","appendChild","row","index2","kbd","listenToUser","onkeypress","website","window","open"],"mappings":";AACA,IAAIA,EAAQC,IACRC,EAAOF,EAAK,KACZG,EAAOH,EAAK,KAShB,SAASI,EAAoBC,GACpBC,OAAAA,KAAKC,MAAMC,aAAaC,QAAQJ,IAAS,QAGlD,SAASK,EAAUC,GACVC,OAAAA,SAASC,cAAcF,GAGhC,SAASG,EAAWC,GACdC,IAAAA,EAAON,EAAU,QAGdM,OAFPA,EAAKD,YAAcA,EACnBC,EAAKC,UAAY,OACVD,EAGT,SAASE,EAAaC,GAChBC,IAAAA,EAASV,EAAU,UAgBhBU,OAfPA,EAAOL,YAAc,KACrBK,EAAOD,GAAKA,EACZC,EAAOC,QAAU,SAACC,GAEZC,IAAAA,EAAUD,EAAME,OAChBC,EAAOF,EAAQG,gBACfC,EAAMJ,EAAO,GACbK,EAAIC,OAAO,UACf1B,EAAKwB,GAAOC,EACZH,EAAKK,IAAM,UAAYF,EAAI,eAC3BH,EAAKM,QAAU,SAACC,GACdA,EAAIR,OAAOM,IAAM,6CAEnBtB,aAAayB,QAAQ,MAAO3B,KAAK4B,UAAU/B,KAEtCiB,EAGT,SAASe,EAAYC,GACfC,IAAAA,EAAM3B,EAAU,OASb2B,OAPLA,EAAIP,IADFM,EACQ,UAAYA,EAAS,eAErB,4CAEZC,EAAIN,QAAU,SAACC,GACbA,EAAIR,OAAOM,IAAM,6CAEZO,EAGT,SAASpC,IACHC,IAMAC,EAAO,CACTmC,EAAG,SACHC,EAAG,YACHC,EAAG,SACHC,EAAG,aACHC,EAAG,aACHC,EAAG,cACHC,EAAG,SACHC,EAAG,YACHC,EAAG,YACHC,EAAG,cACHC,EAAG,YACHC,EAAG,WACHC,EAAG,YACHC,EAAG,eAGDC,EAAqBhD,EAAoB,OAItC,OAHHgD,IACFjD,EAAOiD,GAEF,CACLlD,KA5BS,CACN,EAAA,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAC9C,EAAA,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACzC,EAAA,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAClCmD,OAAQ,GAyBRlD,KAAMA,GAIV,SAASmD,EAAiBpD,EAAMC,GAEzB,IAAA,IAAIoD,EAAQ,EAAGA,EAAQrD,EAAI,OAAYqD,GAAS,EAAG,CAElDC,IAAAA,EAAO9C,EAAU,OACrB8C,EAAKvC,UAAY,MAEjBwC,KAAKC,YAAYF,GAGZ,IADDG,IAAAA,EAAMzD,EAAKqD,GACNK,EAAS,EAAGA,EAASD,EAAG,OAAYC,GAAU,EAAG,CAEpD5C,IAAAA,EAAOF,EAAW6C,EAAIC,IAEtBxC,EAASF,EAAayC,EAAIC,IAE1BvB,EAAMF,EAAYhC,EAAKwD,EAAIC,KAE3BC,EAAMnD,EAAU,OACpBmD,EAAI5C,UAAY,MAEhB4C,EAAIH,YAAY1C,GAChB6C,EAAIH,YAAYrB,GAChBwB,EAAIH,YAAYtC,GAEhBoC,EAAKE,YAAYG,KAKvB,SAASC,EAAa3D,GACpBS,SAASmD,WAAa,SAAC/B,GACjBL,IAAAA,EAAMK,EAAG,IACTgC,EAAU7D,EAAKwB,GACnBsC,OAAOC,KAAK,WAAaF,EAAS,WA1HtCV,EAAiBpD,EAAMC,GAGvB2D,EAAa3D","file":"main.974d0626.js","sourceRoot":"..\\src","sourcesContent":["// 1. 初始化数据\r\nlet hashA = init();\r\nlet keys = hashA[\"keys\"];\r\nlet hash = hashA[\"hash\"];\r\n\r\n// 2.生成键盘\r\ngenerateKeyBoard(keys, hash);\r\n\r\n// 3.监听用户动作\r\nlistenToUser(hash);\r\n\r\n// 下面是工具函数\r\nfunction getFromLocalStorage(name) {\r\n  return JSON.parse(localStorage.getItem(name) || \"null\");\r\n}\r\n\r\nfunction createTag(tagName) {\r\n  return document.createElement(tagName);\r\n}\r\n\r\nfunction createSpan(textContent) {\r\n  let span = createTag(\"span\");\r\n  span.textContent = textContent;\r\n  span.className = \"text\";\r\n  return span;\r\n}\r\n\r\nfunction createButton(id) {\r\n  let button = createTag(\"button\");\r\n  button.textContent = \"编辑\";\r\n  button.id = id;\r\n  button.onclick = (xxxxx) => {\r\n    // xxxxx.target 就是用户点击的元素\r\n    let button2 = xxxxx.target;\r\n    let img2 = button2.previousSibling;\r\n    let key = button2[\"id\"]; // q w e r t\r\n    let x = prompt(\"给我一个网址\"); // qq.com\r\n    hash[key] = x; // hash 变更\r\n    img2.src = \"http://\" + x + \"/favicon.ico\";\r\n    img2.onerror = (xxx) => {\r\n      xxx.target.src = \"//i.loli.net/2017/11/10/5a05afbc5e183.png\";\r\n    };\r\n    localStorage.setItem(\"zzz\", JSON.stringify(hash));\r\n  };\r\n  return button;\r\n}\r\n\r\nfunction createImage(domain) {\r\n  let img = createTag(\"img\");\r\n  if (domain) {\r\n    img.src = \"http://\" + domain + \"/favicon.ico\";\r\n  } else {\r\n    img.src = \"//i.loli.net/2017/11/10/5a05afbc5e183.png\";\r\n  }\r\n  img.onerror = (xxx) => {\r\n    xxx.target.src = \"//i.loli.net/2017/11/10/5a05afbc5e183.png\";\r\n  };\r\n  return img;\r\n}\r\n\r\nfunction init() {\r\n  let keys = {\r\n    0: [\"q\", \"w\", \"e\", \"r\", \"t\", \"y\", \"u\", \"i\", \"o\", \"p\"],\r\n    1: [\"a\", \"s\", \"d\", \"f\", \"g\", \"h\", \"j\", \"k\", \"l\"],\r\n    2: [\"z\", \"x\", \"c\", \"v\", \"b\", \"n\", \"m\"],\r\n    length: 3,\r\n  };\r\n  let hash = {\r\n    q: \"qq.com\",\r\n    w: \"weibo.com\",\r\n    e: \"ele.me\",\r\n    r: \"renren.com\",\r\n    t: \"tianya.com\",\r\n    y: \"youtube.com\",\r\n    u: \"uc.com\",\r\n    i: \"iqiyi.com\",\r\n    o: \"opera.com\",\r\n    p: \"pornhub.com\",\r\n    a: \"acfun.com\",\r\n    s: \"sohu.com\",\r\n    z: \"zhihu.com\",\r\n    m: \"mail.qq.com\",\r\n  };\r\n  // 取出 localStorage 中的 zzz 对应的 hash\r\n  let hashInLocalStorage = getFromLocalStorage(\"zzz\");\r\n  if (hashInLocalStorage) {\r\n    hash = hashInLocalStorage;\r\n  }\r\n  return {\r\n    keys: keys,\r\n    hash: hash,\r\n  };\r\n}\r\n\r\nfunction generateKeyBoard(keys, hash) {\r\n  // 遍历 keys，生成 kbd 标签\r\n  for (let index = 0; index < keys[\"length\"]; index += 1) {\r\n    // 0 1 2\r\n    let div1 = createTag(\"div\");\r\n    div1.className = \"row\";\r\n\r\n    main.appendChild(div1);\r\n\r\n    let row = keys[index]; // 第一个数组 第二个数组 第三个数组\r\n    for (let index2 = 0; index2 < row[\"length\"]; index2 += 1) {\r\n      // 0-9 0-8 0-6\r\n      let span = createSpan(row[index2]);\r\n\r\n      let button = createButton(row[index2]);\r\n\r\n      let img = createImage(hash[row[index2]]);\r\n\r\n      let kbd = createTag(\"kbd\");\r\n      kbd.className = \"key\";\r\n\r\n      kbd.appendChild(span);\r\n      kbd.appendChild(img);\r\n      kbd.appendChild(button);\r\n\r\n      div1.appendChild(kbd);\r\n    }\r\n  }\r\n}\r\n\r\nfunction listenToUser(hash) {\r\n  document.onkeypress = (xxx) => {\r\n    let key = xxx[\"key\"];\r\n    let website = hash[key];\r\n    window.open(\"https://\" + website, \"_blank\");\r\n  };\r\n}\r\n"]}